{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/underxcore/Desktop/urbanMeet/client/lib/api.ts"],"sourcesContent":["import axios from 'axios'\n\nconst API = axios.create({\n  baseURL: process.env.NEXT_PUBLIC_API_URL || 'http://localhost:4000/api',\n  headers: { 'Content-Type': 'application/json' },\n})\n\n// Attach Authorization header automatically from localStorage\nAPI.interceptors.request.use((config) => {\n  if (typeof window !== 'undefined') {\n    const token = localStorage.getItem('token')\n    if (token) {\n      config.headers = config.headers || {}\n      config.headers['Authorization'] = `Bearer ${token}`\n    }\n  }\n  return config\n})\n\nexport default API\n"],"names":[],"mappings":";;;;AAGW;AAHX;;AAEA,MAAM,MAAM,qLAAK,CAAC,MAAM,CAAC;IACvB,SAAS,6MAAO,CAAC,GAAG,CAAC,mBAAmB,IAAI;IAC5C,SAAS;QAAE,gBAAgB;IAAmB;AAChD;AAEA,8DAA8D;AAC9D,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,wCAAmC;QACjC,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,OAAO;YACT,OAAO,OAAO,GAAG,OAAO,OAAO,IAAI,CAAC;YACpC,OAAO,OAAO,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,OAAO;QACrD;IACF;IACA,OAAO;AACT;uCAEe"}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///Users/underxcore/Desktop/urbanMeet/client/app/profile/page.tsx"],"sourcesContent":["\"use client\"\nimport React, { useEffect, useState } from 'react'\nimport API from '@/lib/api'\nimport Link from 'next/link'\n\nexport default function ProfilePage() {\n  const [user, setUser] = useState<any>(null)\n  const [editing, setEditing] = useState(false)\n  const [name, setName] = useState('')\n  const [bio, setBio] = useState('')\n  const [city, setCity] = useState('')\n  const [groups, setGroups] = useState<any[]>([])\n  const [selectedGroup, setSelectedGroup] = useState('')\n  const [quickTitle, setQuickTitle] = useState('')\n  const [quickStartsAt, setQuickStartsAt] = useState('')\n  const [quickCity, setQuickCity] = useState('')\n  const [quickLoading, setQuickLoading] = useState(false)\n  const [quickError, setQuickError] = useState<string | null>(null)\n\n  useEffect(() => {\n    const token = localStorage.getItem('token')\n    if (!token) return\n    API.get('/users/me', { headers: { Authorization: `Bearer ${token}` } })\n      .then((r) => {\n        setUser(r.data.user)\n        setName(r.data.user.name || '')\n        setBio(r.data.user.bio || '')\n        setCity(r.data.user.city || '')\n      })\n      .catch(() => null)\n    // fetch groups for quick event creation\n    API.get('/groups')\n      .then(r => setGroups(r.data.groups || []))\n      .catch(() => null)\n  }, [])\n\n  const handleSave = async () => {\n    const token = localStorage.getItem('token')\n    if (!token) return\n    try {\n      const res = await API.patch('/users/me', { name, bio, city }, { headers: { Authorization: `Bearer ${token}` } })\n      setUser(res.data.user)\n      setEditing(false)\n    } catch (err) {\n      alert('Failed to update profile')\n    }\n  }\n\n  const createQuickEvent = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setQuickLoading(true)\n    setQuickError(null)\n    try {\n      if (!selectedGroup) throw new Error('Select a group')\n      const payload = { groupId: selectedGroup, title: quickTitle, startsAt: quickStartsAt, city: quickCity || city }\n      const res = await API.post('/events', payload)\n      window.location.href = `/events/${res.data.event.id}`\n    } catch (err: any) {\n      setQuickError(err?.response?.data?.error || err.message || 'Failed to create')\n    } finally {\n      setQuickLoading(false)\n    }\n  }\n\n  if (!user) return <div className=\"p-6 text-white\">Please login to view your profile.</div>\n\n  return (\n    <div className=\"mx-auto max-w-3xl p-6\">\n      <div className=\"flex items-center justify-between\">\n        <h2 className=\"text-2xl font-semibold text-white\">{user.name || user.email}</h2>\n        {!editing && (\n          <button onClick={() => setEditing(true)} className=\"rounded bg-pink-500 px-4 py-2 text-sm text-white hover:bg-pink-600\">\n            Edit\n          </button>\n        )}\n      </div>\n      {editing ? (\n        <div className=\"mt-6 flex flex-col gap-3\">\n          <input value={name} onChange={(e) => setName(e.target.value)} placeholder=\"Name\" className=\"rounded border border-white/30 bg-white/10 px-3 py-2 text-white\" />\n          <textarea value={bio} onChange={(e) => setBio(e.target.value)} placeholder=\"Bio\" className=\"rounded border border-white/30 bg-white/10 px-3 py-2 text-white\" rows={3} />\n          <input value={city} onChange={(e) => setCity(e.target.value)} placeholder=\"City\" className=\"rounded border border-white/30 bg-white/10 px-3 py-2 text-white\" />\n          <div className=\"flex gap-2\">\n            <button onClick={handleSave} className=\"rounded bg-pink-500 px-4 py-2 text-white hover:bg-pink-600\">Save</button>\n            <button onClick={() => setEditing(false)} className=\"rounded border border-white/30 px-4 py-2 text-white hover:bg-white/10\">Cancel</button>\n          </div>\n        </div>\n      ) : (\n        <div className=\"mt-4 text-zinc-300\">\n          <p className=\"text-sm\">{user.bio || 'No bio yet'}</p>\n          <p className=\"mt-2 text-sm text-zinc-400\">{user.city || 'Location not set'}</p>\n        </div>\n      )}\n\n      {/* Quick create event */}\n      <div className=\"mt-10 rounded-2xl border border-white/10 bg-white/5 p-6 backdrop-blur-md\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-lg font-semibold text-white\">Quick Create Event</h3>\n          <Link href=\"/events/create\" className=\"text-xs text-pink-400 hover:text-pink-300\">Advanced form â†’</Link>\n        </div>\n        <form onSubmit={createQuickEvent} className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div className=\"md:col-span-1\">\n            <select value={selectedGroup} onChange={(e) => setSelectedGroup(e.target.value)} className=\"w-full rounded-lg border border-white/20 bg-white/10 px-3 py-2 text-white\">\n              <option value=\"\" className=\"text-black\">Select group</option>\n              {groups.map(g => (\n                <option key={g.id} value={g.id} className=\"text-black\">{g.name}</option>\n              ))}\n            </select>\n          </div>\n          <input value={quickTitle} onChange={(e) => setQuickTitle(e.target.value)} placeholder=\"Title\" className=\"rounded-lg border border-white/20 bg-white/10 px-3 py-2 text-white md:col-span-1\" required />\n          <input type=\"datetime-local\" value={quickStartsAt} onChange={(e) => setQuickStartsAt(e.target.value)} className=\"rounded-lg border border-white/20 bg-white/10 px-3 py-2 text-white md:col-span-1\" required />\n          <input value={quickCity} onChange={(e) => setQuickCity(e.target.value)} placeholder=\"City (optional)\" className=\"rounded-lg border border-white/20 bg-white/10 px-3 py-2 text-white md:col-span-1\" />\n          <div className=\"md:col-span-3 flex justify-end gap-3\">\n            {quickError && <p className=\"text-xs text-red-400 flex-1\">{quickError}</p>}\n            <button disabled={quickLoading} className=\"rounded-xl bg-gradient-to-r from-pink-500 to-purple-600 px-5 py-2 text-sm font-semibold text-white disabled:opacity-50\">\n              {quickLoading ? 'Creating...' : 'Create'}\n            </button>\n          </div>\n        </form>\n        <p className=\"mt-3 text-xs text-zinc-400\">Use the advanced form to add description, tags, venue, capacity and poster.</p>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}
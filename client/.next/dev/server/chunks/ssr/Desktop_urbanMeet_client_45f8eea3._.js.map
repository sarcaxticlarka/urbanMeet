{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/underxcore/Desktop/urbanMeet/client/components/ImageUploader.tsx"],"sourcesContent":["\"use client\"\nimport React, { useState } from 'react'\n\ninterface ImageUploaderProps {\n  onChange: (url: string) => void\n  value?: string\n}\n\n// Simple Cloudinary unsigned upload component.\n// Requires NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME and NEXT_PUBLIC_CLOUDINARY_UPLOAD_PRESET env variables.\nexport default function ImageUploader({ onChange, value }: ImageUploaderProps) {\n  const [uploading, setUploading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n\n  const cloudName = process.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME\n  const uploadPreset = process.env.NEXT_PUBLIC_CLOUDINARY_UPLOAD_PRESET\n\n  const handleFile = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0]\n    if (!file) return\n    if (!cloudName || !uploadPreset) {\n      setError('Cloudinary env vars missing')\n      return\n    }\n    setUploading(true)\n    setError(null)\n    try {\n      const formData = new FormData()\n      formData.append('file', file)\n      formData.append('upload_preset', uploadPreset)\n      const res = await fetch(`https://api.cloudinary.com/v1_1/${cloudName}/image/upload`, { method: 'POST', body: formData })\n      const data = await res.json()\n      if (data.secure_url) {\n        onChange(data.secure_url)\n      } else {\n        setError('Upload failed')\n      }\n    } catch (err: any) {\n      setError('Upload error')\n    } finally {\n      setUploading(false)\n    }\n  }\n\n  return (\n    <div className=\"space-y-2\">\n      <div className=\"flex items-center gap-3\">\n        <input type=\"file\" accept=\"image/*\" onChange={handleFile} disabled={uploading} className=\"text-sm text-white\" />\n        {uploading && <span className=\"text-xs text-pink-300 animate-pulse\">Uploading...</span>}\n      </div>\n      {value && (\n        <img src={value} alt=\"Poster\" className=\"h-40 w-full object-cover rounded-xl border border-white/10\" />\n      )}\n      {error && <p className=\"text-xs text-red-400\">{error}</p>}\n      {!cloudName && !uploadPreset && (\n        <p className=\"text-xs text-zinc-400\">Set NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME and NEXT_PUBLIC_CLOUDINARY_UPLOAD_PRESET to enable uploads.</p>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAUe,SAAS,cAAc,EAAE,QAAQ,EAAE,KAAK,EAAsB;IAC3E,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,mPAAQ,EAAC;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,mPAAQ,EAAgB;IAElD,MAAM,YAAY,QAAQ,GAAG,CAAC,iCAAiC;IAC/D,MAAM,eAAe,QAAQ,GAAG,CAAC,oCAAoC;IAErE,MAAM,aAAa,OAAO;QACxB,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAI,CAAC,MAAM;QACX,IAAI,CAAC,aAAa,CAAC,cAAc;YAC/B,SAAS;YACT;QACF;QACA,aAAa;QACb,SAAS;QACT,IAAI;YACF,MAAM,WAAW,IAAI;YACrB,SAAS,MAAM,CAAC,QAAQ;YACxB,SAAS,MAAM,CAAC,iBAAiB;YACjC,MAAM,MAAM,MAAM,MAAM,CAAC,gCAAgC,EAAE,UAAU,aAAa,CAAC,EAAE;gBAAE,QAAQ;gBAAQ,MAAM;YAAS;YACtH,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,IAAI,KAAK,UAAU,EAAE;gBACnB,SAAS,KAAK,UAAU;YAC1B,OAAO;gBACL,SAAS;YACX;QACF,EAAE,OAAO,KAAU;YACjB,SAAS;QACX,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBACE,gRAAC;QAAI,WAAU;;0BACb,gRAAC;gBAAI,WAAU;;kCACb,gRAAC;wBAAM,MAAK;wBAAO,QAAO;wBAAU,UAAU;wBAAY,UAAU;wBAAW,WAAU;;;;;;oBACxF,2BAAa,gRAAC;wBAAK,WAAU;kCAAsC;;;;;;;;;;;;YAErE,uBACC,gRAAC;gBAAI,KAAK;gBAAO,KAAI;gBAAS,WAAU;;;;;;YAEzC,uBAAS,gRAAC;gBAAE,WAAU;0BAAwB;;;;;;YAC9C,CAAC,aAAa,CAAC,8BACd,gRAAC;gBAAE,WAAU;0BAAwB;;;;;;;;;;;;AAI7C"}},
    {"offset": {"line": 114, "column": 0}, "map": {"version":3,"sources":["file:///Users/underxcore/Desktop/urbanMeet/client/app/events/create/page.tsx"],"sourcesContent":["\"use client\"\nimport React, { useState } from 'react'\nimport { useRouter, useSearchParams } from 'next/navigation'\nimport API from '@/lib/api'\nimport ImageUploader from '@/components/ImageUploader'\n\nexport default function CreateEventPage() {\n  const router = useRouter()\n  const searchParams = useSearchParams()\n  const groupId = searchParams.get('groupId') || ''\n\n  const [title, setTitle] = useState('')\n  const [description, setDescription] = useState('')\n  const [tags, setTags] = useState('')\n  const [startsAt, setStartsAt] = useState('')\n  const [endsAt, setEndsAt] = useState('')\n  const [city, setCity] = useState('')\n  const [venue, setVenue] = useState('')\n  const [address, setAddress] = useState('')\n  const [capacity, setCapacity] = useState<number | ''>('')\n  const [imageUrl, setImageUrl] = useState('')\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n\n  const submit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setLoading(true)\n    setError(null)\n    const token = localStorage.getItem('token')\n    if (!token) {\n      setError('Please login first')\n      setLoading(false)\n      return\n    }\n    try {\n      // For now, include tags inline in description if backend lacks a tags field\n  const tagsArray = tags.split(',').map(t => t.trim()).filter(Boolean)\n  const payload: any = { groupId, title, description, startsAt, city, venue, tags: tagsArray }\n      if (endsAt) payload.endsAt = endsAt\n      if (address) payload.address = address\n      if (capacity !== '') payload.capacity = Number(capacity)\n      if (imageUrl) payload.imageUrl = imageUrl\n\n      const res = await API.post('/events', payload)\n      router.push(`/events/${res.data.event.id}`)\n    } catch (err: any) {\n      setError(err?.response?.data?.error || 'Failed to create event')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-pink-50 via-purple-50 to-indigo-50 p-4\">\n      <div className=\"w-full max-w-2xl rounded-3xl shadow-xl bg-white ring-1 ring-zinc-200 p-8 md:p-10\">\n        <div className=\"flex items-center gap-3 mb-6\">\n          <span className=\"inline-flex items-center justify-center rounded-xl bg-gradient-to-br from-indigo-500 to-pink-500 p-3\">\n            <svg className=\"h-7 w-7 text-white\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\"><rect x=\"3\" y=\"4\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"/><line x1=\"16\" y1=\"2\" x2=\"16\" y2=\"6\"/><line x1=\"8\" y1=\"2\" x2=\"8\" y2=\"6\"/><line x1=\"3\" y1=\"10\" x2=\"21\" y2=\"10\"/></svg>\n          </span>\n          <div>\n            <h2 className=\"text-2xl font-bold text-zinc-900\">Create an Event</h2>\n            <p className=\"text-sm text-zinc-500\">Host something amazing for your community</p>\n          </div>\n        </div>\n        <form onSubmit={submit} className=\"space-y-5\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-5\">\n            <div>\n              <label className=\"mb-1.5 block text-sm font-medium text-zinc-700\">Group ID</label>\n              <input value={groupId} readOnly className=\"w-full rounded-xl border border-zinc-200 bg-zinc-50 py-3 px-4 text-zinc-900\" />\n            </div>\n            <div>\n              <label className=\"mb-1.5 block text-sm font-medium text-zinc-700\">Event Title</label>\n              <input value={title} onChange={(e) => setTitle(e.target.value)} placeholder=\"Hackathon Night\" className=\"w-full rounded-xl border border-zinc-200 bg-white py-3 px-4 text-zinc-900 placeholder:text-zinc-400 focus:ring-2 focus:ring-indigo-200\" required />\n            </div>\n          </div>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-5\">\n            <div>\n              <label className=\"mb-1.5 block text-sm font-medium text-zinc-700\">Starts At</label>\n              <input type=\"datetime-local\" value={startsAt} onChange={(e) => setStartsAt(e.target.value)} className=\"w-full rounded-xl border border-zinc-200 bg-white py-3 px-4 text-zinc-900\" required />\n            </div>\n            <div>\n              <label className=\"mb-1.5 block text-sm font-medium text-zinc-700\">Ends At</label>\n              <input type=\"datetime-local\" value={endsAt} onChange={(e) => setEndsAt(e.target.value)} className=\"w-full rounded-xl border border-zinc-200 bg-white py-3 px-4 text-zinc-900\" />\n            </div>\n          </div>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-5\">\n            <div>\n              <label className=\"mb-1.5 block text-sm font-medium text-zinc-700\">City</label>\n              <input value={city} onChange={(e) => setCity(e.target.value)} placeholder=\"City\" className=\"w-full rounded-xl border border-zinc-200 bg-white py-3 px-4 text-zinc-900 placeholder:text-zinc-400\" required />\n            </div>\n            <div>\n              <label className=\"mb-1.5 block text-sm font-medium text-zinc-700\">Venue</label>\n              <input value={venue} onChange={(e) => setVenue(e.target.value)} placeholder=\"Venue\" className=\"w-full rounded-xl border border-zinc-200 bg-white py-3 px-4 text-zinc-900 placeholder:text-zinc-400\" />\n            </div>\n          </div>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-5\">\n            <div>\n              <label className=\"mb-1.5 block text-sm font-medium text-zinc-700\">Address</label>\n              <input value={address} onChange={(e) => setAddress(e.target.value)} placeholder=\"Address\" className=\"w-full rounded-xl border border-zinc-200 bg-white py-3 px-4 text-zinc-900 placeholder:text-zinc-400\" />\n            </div>\n            <div>\n              <label className=\"mb-1.5 block text-sm font-medium text-zinc-700\">Capacity</label>\n              <input type=\"number\" value={capacity} onChange={(e) => setCapacity(e.target.value ? Number(e.target.value) : '')} placeholder=\"Capacity\" className=\"w-full rounded-xl border border-zinc-200 bg-white py-3 px-4 text-zinc-900 placeholder:text-zinc-400\" />\n            </div>\n          </div>\n          <div>\n            <label className=\"mb-1.5 block text-sm font-medium text-zinc-700\">Tags (comma separated)</label>\n            <input value={tags} onChange={(e) => setTags(e.target.value)} placeholder=\"e.g. tech, networking, fun\" className=\"w-full rounded-xl border border-zinc-200 bg-white py-3 px-4 text-zinc-900 placeholder:text-zinc-400\" />\n          </div>\n          <div>\n            <label className=\"mb-1.5 block text-sm font-medium text-zinc-700\">Event Poster</label>\n            <ImageUploader value={imageUrl} onChange={setImageUrl} />\n          </div>\n          <button disabled={loading} className=\"w-full rounded-xl bg-gradient-to-r from-indigo-500 to-pink-500 py-3 text-white font-semibold shadow hover:from-indigo-600 hover:to-pink-600 disabled:opacity-50\">\n            {loading ? 'Creating...' : 'Create Event'}\n          </button>\n          {error && <div className=\"rounded-lg border border-rose-200 bg-rose-50 p-3 text-sm text-rose-700\">{error}</div>}\n        </form>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}